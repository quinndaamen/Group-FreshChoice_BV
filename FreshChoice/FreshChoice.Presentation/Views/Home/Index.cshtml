@using FreshChoice.Data.Entities
@model IEnumerable<FreshChoice.Data.Entities.Announcement>

@{
    ViewData["Title"] = "Home Page";
}

<link rel="stylesheet" href="~/css/home.css" />

<div class="home-container">
    <!-- Header Section -->
    <div class="page-header">
        <div>
            <h1>Announcements</h1>
            <p>Recent company updates</p>
        </div>
        <a asp-controller="Announcement" asp-action="Create" class="create-btn">
            <i class="bi bi-plus-lg"></i>
            Create New Announcement
        </a>
    </div>

    <!-- Announcements Grid -->
    <div class="announcements-grid">
        @if (Model != null && Model.Any())
        {
            @foreach (var ann in Model)
            {
                <div class="announcement-card">
                    <!-- Delete Button -->
                    <form asp-controller="Announcement" asp-action="Delete" asp-route-id="@ann.Id" method="post" style="display: inline;">
                        <button type="submit" class="delete-btn" onclick="return confirm('Are you sure you want to delete this announcement?');">
                            <i class="bi bi-trash"></i>
                            Delete
                        </button>
                    </form>

                    <div class="announcement-date">
                        <i class="bi bi-calendar3"></i>
                        @ann.Date.ToString("MMM dd, yyyy")
                    </div>
                    <h3 class="announcement-title">@ann.Name</h3>
                    <p class="announcement-text">@ann.Text</p>
                </div>
            }
        }
        else
        {
            <div class="alert">
                <i class="bi bi-info-circle"></i>
                <span>No announcements found. Click "Create New Announcement" to get started.</span>
            </div>
        }
    </div>
</div>