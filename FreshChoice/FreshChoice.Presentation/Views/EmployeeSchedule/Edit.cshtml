@model EmployeeShift
@using FreshChoice.Data.Entities
@using FreshChoice.Data

<div class="container-page">
    <h2>Edit Employee Shift</h2>

    <form asp-action="Edit" method="post" class="form-page">
        <input type="hidden" asp-for="Id" />

        <div class="form-group">
            <label>Employee</label>
            <select asp-for="EmployeeId" class="form-control">
                @foreach(var e in ViewBag.Employees)
                {
                    <option value="@e.Id" selected="@(e.Id == Model.EmployeeId)">@($"{e.FirstName} {e.LastName}")</option>
                }
            </select>
        </div>

        <div class="form-group">
            <label>Shift</label>
            <select asp-for="ShiftId" class="form-control">
                @foreach(var s in ViewBag.Shifts)
                {
                    <option value="@s.Id" selected="@(s.Id == Model.ShiftId)">
                        @($"{s.Date:dd-MM-yyyy} | {s.StartTime:HH:mm}-{s.EndTime:HH:mm}")
                    </option>
                }
            </select>
        </div>

        <div class="form-group">
            <label>Department</label>
            <select asp-for="Department" class="form-control">
                @foreach(Department d in Enum.GetValues(typeof(Department)))
                {
                    <option value="@d" selected="@(Model.Department == d)">@d</option>
                }
            </select>
        </div>

        <div class="form-buttons">
            <button type="submit" class="btn btn-success">Update</button>
            <a asp-action="Index" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>